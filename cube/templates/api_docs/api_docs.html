{% extends 'index.html' %}
{% load custom_filters %}
{% load static %}


{% block content %}
<center>
    <img src="{% static 'img/icons/api.gif' %}">
    <h1 style="font-weight: 100;">CuBe API.</h1>
</center>
<br><br><br>
<div class="api-docs-block">
    <div class="header-block">
        <h1 style="font-weight: 100;">API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.</h1>
        <h2 style="font-weight: 100;">–ú–µ–Ω—è–π –º–∏—Ä –∫ –ª—É—á—à–µ–º—É</h2>
    </div>

    <a style="color: black;" onclick="ShowConditions(1);" class="link-conditions" id="link-conditions1"
       href="#open-nickname-conditions">
        <h2 style="font-weight: 100; left: 40px; margin-top: 25px;">‚Üì 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞. –í–≤–µ–¥–µ–Ω–∏–µ.</h2>
    </a>
    <div class="conditions" style="display: none;" id="conditions1">

        <h3 style="font-weight: 100;">–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.</h3>

        <p>–í–∞—à —Ç–æ–∫–µ–Ω: </p>
        <div class="info">
            <p class="code-url" id="user-api-token"></p>
        </div>
        <p class="p-block">
            –°–∏–º–≤–æ–ª "üîí" (–ó–∞–º–æ–∫) –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –∑–∞–∫—Ä—ã—Ç—ã–π –∏–ª–∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å–∫–æ–≥–æ api –º–µ—Ç–æ–¥.
        </p>
        <script>document.getElementById('user-api-token').innerHTML = localStorage.getItem('token');</script>
    </div>

    <br>

    <a style="color: black;" onclick="ShowConditions(2);" class="link-conditions" id="link-conditions2"
       href="#open-nickname-conditions">
        <h2 style="font-weight: 100; left: 40px; margin-top: 25px;">‚Üì 2. –ú–µ—Ç–æ–¥—ã.</h2>
    </a>
    <div class="conditions" style="display: none; padding: 0;" id="conditions2">
        <div class="header-block">
            <h2 class="code" style="font-weight: 100;">üîí api/sign/in/</h2>
            <h3 style="font-weight: 100;">–º–µ—Ç–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏.</h3>
        </div>
        <p class="p-block">
            –£—Ç–æ—á–Ω–µ–Ω–∏–µ: —Å–∏—Å—Ç–µ–º–∞ —Å–∞–π—Ç–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ª—é–±–æ–º—É –∑–∞–ø—Ä–æ—Å—É –ø–æ api.<br>
            –¢–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage.
        </p>
        <div class="div-code">
            <code>
                <span class="code">console</span>.log(<span class="code">localStorage</span>.getItem(</span><span class="code-url">'token'</span>));
            </code>
        </div>
    </div>

    <br>

    <a style="color: black;" onclick="ShowConditions(3);" class="link-conditions" id="link-conditions3"
       href="#open-nickname-conditions">
        <h2 style="font-weight: 100; left: 40px; margin-top: 25px;">‚Üì 3. –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞ Python.</h2>
    </a>
    <div class="conditions" style="display: none;" id="conditions3">
        <div class="div-code">
            <code>
                <span class="code">import</span> requests<br><br>

                <span class="code">url</span> = <span class="code-url">'http://127.0.0.1:8000/api/create/comment/'<p><br><br>

                <span class="code">data</span> = {<br>
                <span class="code-url">'token'</span>: '123',<br>
                    <span class="code-url">'post_id'</span>: 7,<br>
                    <span class="code-url">'text'</span>: '123'<br>
                }<br><br>

                <span class="code">print(</span>requests.post(<br>
                        url=url,<br>
                        data=data<br>
                    ).json()<span class="code">)</span>
            </code>
        </div>
    </div>
    <br><br><br><br>
</div>

{% endblock %}